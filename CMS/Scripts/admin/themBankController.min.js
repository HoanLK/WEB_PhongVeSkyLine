myApp.controller("themBankController",["$scope","$http","$window","$location","$filter","Url",function(n,t,i,r,u,f){n.bank={};n.chooseImage=function(){var t=new CKFinder;t.selectActionFunction=function(t){n.bank.image=t;n.$apply()};t.SelectFunction="ShowFileInfo";t.popup()};n.currentIdBank=f.getParameterByName("id");n.currentIdBank&&t.get("/API/BankAPI/"+n.currentIdBank).success(function(t){n.bank={idBank:t.idBank,tenNganHang:t.tenNganHang,kyHieu:t.kyHieu,image:t.image,tenTK:t.tenTK,soTK:t.soTK,loaiTien:t.loaiTien,chiNhanh:t.chiNhanh}});n.saveBank=function(){n.currentIdBank?t.put("/API/BankAPI/"+n.bank.idBank,n.bank).success(function(){toastr.success("Thành công","Lưu ngân hàng")}).error(function(){toastr.error("Thất bại","Thêm ngân hàng")}):t.post("/API/BankAPI/",n.bank).success(function(){toastr.success("Thành công","Thêm ngân hàng");i.location.href="/Admin/Banks"}).error(function(){toastr.error("Thất bại","Thêm ngân hàng")})};n.saveBankAndExit=function(){n.currentIdBank?t.put("/API/BankAPI/"+n.bank.idBank,n.bank).success(function(){i.location.href="/Admin/Banks"}).error(function(){toastr.error("Thất bại","Lưu ngân hàng")}):t.post("/API/BankAPI/",n.bank).success(function(){i.location.href="/Admin/Banks"}).error(function(){toastr.error("Thất bại","Thêm ngân hàng")})};n.saveBankAndNew=function(){n.currentIdBank?t.put("/API/BankAPI/"+n.bank.idBank,n.bank).success(function(){i.location.href="/Admin/Banks/Create"}).error(function(){toastr.error("Thất bại","Lưu ngân hàng")}):t.post("/API/BankAPI/",n.bank).success(function(){i.location.href="/Admin/Banks/Create"}).error(function(){toastr.error("Thất bại","Thêm ngân hàng")})};n.cancel=function(){i.location.href="/Admin/Banks"}}]);